(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["VirtualSelect"]=t():e["VirtualSelect"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var e={};!function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){e.p=""}();var t={};if(e.d(t,{default:function(){return u}}),"undefined"!==typeof window){var i=window.document.currentScript,s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(e.p=s[1])}var n=function(){var e=this,t=e._self._c;return t("div",{ref:"virtualselect",staticClass:"virtual-select",class:{active:!!e.value&&!e.disabled,disabled:e.disabled,invert:e.invert},on:{"&click":function(t){e.isActive=!0},keyup:e.keyboardCheck}},[t("fieldset",{class:{active:e.isActive}},[e.value&&!e.disabled?t("button",{staticClass:"clear",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.selectValue("")}}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"red"}},[t("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),t("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])]):e._e(),t("legend",[t("span",[e._v(e._s(e.getLabel()))])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{disabled:e.disabled,tabindex:"1",type:"text",name:"search",autocomplete:"off"},domProps:{value:e.search},on:{focusin:function(t){e.disabled?e.isActive=!1:e.isActive=!0},input:function(t){t.target.composing||(e.search=t.target.value)}}}),t("div",{staticClass:"chevron",class:{active:e.isActive}},[t("svg",{staticClass:"feather feather-chevron-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[t("polyline",{attrs:{points:"6 9 12 15 18 9"}})])])]),t("transition",{attrs:{name:e.invert?"sv":"vs"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],ref:"virtualcontainer",staticClass:"options",on:{focusin:function(t){e.disabled?e.isActive=!1:e.isActive=!0}}},[t("div",{staticClass:"content",style:e.contentStyle()},e._l(e.items,(function(i,s){return t("div",{key:s,staticClass:"option-item",attrs:{tabindex:2+s},on:{click:function(t){return t.stopPropagation(),(()=>e.selectValue(i.value)).apply(null,arguments)},keydown:t=>e.keyboardSelectValue(t,i.value)}},[e._v(" "+e._s(i.label)+" ")])})),0)])])],1)},o=[],r={name:"VirtualSelect",data(){return{search:"",isActive:!1,scrollAdd:0}},props:{value:{},placeholder:{type:String,default:"Selecione uma opção"},options:{type:Array,required:!0,default:()=>[]},disabled:{type:Boolean,default:!1},invert:{type:Boolean,default:!1}},methods:{selectValue(e){this.search="",this.isActive=!1,this.$emit("input",e),this.$emit("blur",e)},keyboardSelectValue(e,t){"Enter"!==e.code&&"Space"!==e.code||this.selectValue(t)},keyboardCheck(e){"Enter"===e.code||"Space"===e.code||this.disabled||"Escape"===e.code||(this.isActive=!0)},contentStyle(){const e=34*this.findItems.length,t=34*this.scrollAdd;return`height: ${e}px; padding-top: ${t}px`},getLabel(){if(this.value){const e=this.options.find((e=>e.value===this.value));return e?e.label+` (${this.placeholder})`:this.value}return this.placeholder},scrollTop(){this.scrollAdd=0},clickOut(e){e.target.closest(".virtual-select")||(this.isActive=!1)},escapeKey(e){"Escape"===e.key&&(this.isActive=!1)}},computed:{findItems(){if(""!==this.search){this.scrollTop();const e=new RegExp(this.search,"gi");return this.options.filter((t=>e.test(t.label)))}return this.options},items(){const e=this.scrollAdd;return this.findItems.slice(e,e+10)}},mounted(){window.addEventListener("click",this.clickOut),window.addEventListener("keydown",this.escapeKey),this.$refs.virtualcontainer.addEventListener("scroll",(()=>{this.scrollAdd=Math.floor(this.$refs.virtualcontainer.scrollTop/34)}))},beforeMount(){window.removeEventListener("click",this.clickOut),window.removeEventListener("keydown",this.escapeKey)}},a=r;function l(e,t,i,s,n,o,r,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=a?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}var c=l(a,n,o,!1,null,"1cd088c9",null),d=c.exports,u=d;return t=t["default"],t}()}));
//# sourceMappingURL=VirtualSelect.umd.min.js.map