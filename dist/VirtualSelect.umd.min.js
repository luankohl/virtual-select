(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["VirtualSelect"]=e():t["VirtualSelect"]=e()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var t={};!function(){t.d=function(e,i){for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}}(),function(){t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){t.p=""}();var e={};if(t.d(e,{default:function(){return u}}),"undefined"!==typeof window){var i=window.document.currentScript,o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(t.p=o[1])}var n=function(){var t=this,e=t._self._c;return e("div",{ref:"virtualselect",staticClass:"virtual-select",class:{active:!!t.value&&!t.disabled,disabled:t.disabled,invert:t.invert},attrs:{id:t.identification},on:{"&click":function(e){t.isActive=!0},keyup:t.keyboardCheck}},[e("fieldset",{class:{active:t.isActive}},[t.value&&!t.disabled?e("button",{staticClass:"clear",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.selectValue("")}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"red"}},[e("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),e("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])]):t._e(),e("legend",[e("span",[t._v(t._s(t.getLabel()))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{disabled:t.disabled,tabindex:t.tabindex,type:"text",name:"search",autocomplete:"off"},domProps:{value:t.search},on:{focusin:function(e){t.disabled?t.isActive=!1:t.isActive=!0},input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("div",{staticClass:"chevron",class:{active:t.isActive}},[e("svg",{staticClass:"feather feather-chevron-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polyline",{attrs:{points:"6 9 12 15 18 9"}})])])]),e("transition",{attrs:{name:t.invert?"sv":"vs"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],ref:"virtualcontainer",staticClass:"options",on:{focusin:function(e){t.disabled?t.isActive=!1:t.isActive=!0}}},[e("div",{staticClass:"content",style:t.contentStyle()},t._l(t.items,(function(i,o){return e("div",{key:o,staticClass:"option-item",attrs:{tabindex:t.tabindex+1+o},on:{click:function(e){return e.stopPropagation(),(()=>t.selectValue(i.value)).apply(null,arguments)},keydown:e=>t.keyboardSelectValue(e,i.value)}},[t._v(" "+t._s(i.label)+" ")])})),0)])])],1)},s=[],r={name:"VirtualSelect",data(){return{search:"",isActive:!1,scrollAdd:0,identification:String(Math.ceil((new Date).getTime()/(10*Math.random())))}},props:{value:{},placeholder:{type:String,default:"Selecione uma opção"},options:{type:Array,required:!0,default:()=>[]},disabled:{type:Boolean,default:!1},invert:{type:Boolean,default:!1},tabindex:{type:Number,required:!0,default:1}},methods:{selectValue(t){this.search="",this.isActive=!1,this.$emit("input",t),this.$emit("blur",t)},keyboardSelectValue(t,e){"Enter"!==t.code&&"Space"!==t.code||this.selectValue(e)},keyboardCheck(t){"Enter"===t.code||"Space"===t.code||this.disabled||"Escape"===t.code||(this.isActive=!0)},contentStyle(){const t=34*this.findItems.length,e=34*this.scrollAdd;return`height: ${t}px; padding-top: ${e}px`},getLabel(){if(this.value){const t=this.options.find((t=>t.value===this.value));return t?t.label+` (${this.placeholder})`:this.value}return this.placeholder},scrollTop(){this.scrollAdd=0},clickOut(t){t.target.closest(".virtual-select")||(this.isActive=!1)},keydown(t){if(t.target.__proto__.toString===Object.prototype.toString){if("[object HTMLBodyElement]"===t.target.__proto__.toString()||"[object HTMLDocument]"===t.target.__proto__.toString()||"[object Window]"===t.target.__proto__.toString())return;"Escape"===t.key&&(this.isActive=!1)}},checkFocus(t){if(t.target.__proto__.toString===Object.prototype.toString){if("[object HTMLBodyElement]"===t.target.__proto__.toString()||"[object HTMLDocument]"===t.target.__proto__.toString()||"[object Window]"===t.target.__proto__.toString())return;const e=t.target.closest(".virtual-select");null!==e&&e.id!==this.identification&&(this.isActive=!1)}}},computed:{findItems(){if(""!==this.search){this.scrollTop();const t=new RegExp(this.search,"gi");return this.options.filter((e=>t.test(e.label)))}return this.options},items(){const t=this.scrollAdd;return this.findItems.slice(t,t+10)}},mounted(){window.addEventListener("click",this.clickOut),window.addEventListener("keydown",this.keydown),this.$refs.virtualcontainer.addEventListener("scroll",(()=>{this.scrollAdd=Math.floor(this.$refs.virtualcontainer.scrollTop/34)})),window.addEventListener("focus",this.checkFocus,!0)},beforeMount(){window.removeEventListener("click",this.clickOut),window.removeEventListener("keydown",this.keydown),window.removeEventListener("focus",this.checkFocus,!0)}},a=r;function c(t,e,i,o,n,s,r,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),o&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}var l=c(a,n,s,!1,null,"9cfb7d46",null),d=l.exports,u=d;return e=e["default"],e}()}));
//# sourceMappingURL=VirtualSelect.umd.min.js.map